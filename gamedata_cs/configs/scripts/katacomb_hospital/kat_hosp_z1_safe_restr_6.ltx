[logic]
active = sr_idle

[sr_idle@cover_wait]
on_actor_inside = {-rush_7} sr_idle1 %+rush_6%
on_info = {+rush_4} sr_idle@cover_wait2
;on_info2 = {+sniper_off} sr_idle3

[sr_idle@cover_wait2]
on_game_timer = 50 | sr_idle@cover_fire
on_actor_inside = sr_idle %-cover_fire +cover_fire_end -cover_fire_hide%
;on_info = {+sniper_off} sr_idle3

[sr_idle@cover_fire]
on_game_timer = 30 | sr_idle@cover_fire_2 %-cover_fire_end +cover_fire%
on_actor_inside = sr_idle %-cover_fire +cover_fire_end -cover_fire_hide%
;on_info = {+sniper_off} sr_idle3

[sr_idle@cover_fire_2]
on_game_timer = 30 | sr_idle@cover_hide %+cover_fire_hide%
on_actor_inside = sr_idle %-cover_fire +cover_fire_end -cover_fire_hide%
;on_info = {+sniper_off} sr_idle3

[sr_idle@cover_hide]
on_game_timer = 100 | sr_idle@cover_wait %-cover_fire +cover_fire_end -cover_fire_hide%
on_actor_inside = sr_idle %-cover_fire +cover_fire_end -cover_fire_hide%
;on_info = {+sniper_off} sr_idle3

[sr_idle]
on_actor_inside = {-cover_fire -rush_7 -sniper_off} sr_idle1 %+rush_6 =play_sound(clear_sky_wait_pda:csky:st_ui_pda_legend_squad)%, {-rush_7} sr_idle1 %+rush_6%
;on_info = {+sniper_off} sr_idle3

[sr_idle1] ;-- GO!
on_game_timer = 50 | sr_idle@hide %-cover_fire_end +cover_fire%
on_info = {+rush_7} sr_idle3
on_info2 = {+sniper_off +minigun_off} sr_idle3

[sr_idle@hide]
on_game_timer = 30 | sr_idle@go %+cover_fire_hide%
on_info = {+rush_7} sr_idle3 %-cover_fire +cover_fire_end -cover_fire_hide%
on_info2 = {+sniper_off +minigun_off} sr_idle3

[sr_idle@go]
on_game_timer = 30 | sr_idle2 %=play_sound(clear_sky_go_pda:csky:st_ui_pda_legend_squad)%
on_info = {+rush_7} sr_idle3 %-cover_fire +cover_fire_end -cover_fire_hide%
on_info2 = {+sniper_off +minigun_off} sr_idle3

[sr_idle2]
on_game_timer = 100 | sr_idle3 %-cover_fire +cover_fire_end -cover_fire_hide%
on_info = {+rush_7} sr_idle3 %-cover_fire +cover_fire_end -cover_fire_hide%
on_info2 = {+sniper_off +minigun_off} sr_idle3

[sr_idle3]
on_actor_inside = {-sniper_off -cover_fire -rush_7} sr_idle1 %=play_sound(clear_sky_badly_pda:csky:st_ui_pda_legend_squad)%, {-sniper_off +rush_7} sr_idle1 %-rush_7 =play_sound(clear_sky_badly_pda:csky:st_ui_pda_legend_squad)%
on_info = {+minigun_off} sr_idle@idle

[sr_idle@idle]
on_actor_inside = {+minigun_off} sr_idle@off %+hospital_last_wave_spawn%

[sr_idle@off]