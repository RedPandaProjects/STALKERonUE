;*****************************
;********* csky solider 1 ***********

[logic@work1]
active = camper@f1_hide_work1
combat_ignore = combat_ignore
suitable = {=check_npc_name(red_bridge_csky_soldier)} true

;***** обстреливают бандитов *****
[camper@f1_hide_work1]
out_restr = red_bridge_csky_restr
invulnerable = true
combat_ignore_cond = always
path_walk = soldier_1_f1_walk
path_look = soldier_1_f1_hide_look
radius = 10
def_state_moving = assault
on_info = {+red_bridge_clear_path} camper@clear_path_fire_work1
on_game_timer = 100 | {=counter_greater(bridge_bandit_cout:0)} camper@f1_fire_work1
meet = no_meet

[camper@f1_fire_work1]
out_restr = red_bridge_csky_restr
invulnerable = true
combat_ignore_cond = always
path_walk = soldier_1_f1_walk
path_look = soldier_1_f1_fire_look
radius = 10
def_state_moving = assault
on_info = {+red_bridge_clear_path} camper@clear_path_fire_work1
on_info2 = {!counter_greater(bridge_bandit_cout:0)} camper@f1_hide_work1
on_game_timer = 40 | camper@f1_hide_work1
meet = no_meet

[camper@clear_path_hide_work1]
out_restr = red_bridge_csky_restr
invulnerable = true
combat_ignore_cond = always
path_walk = soldier_1_f1_walk
path_look = soldier_1_f1_hide_look
radius = 10
def_state_moving = assault
on_info = {+red_bridge_allyes_skirmish} camper@f2_hide_work1
on_game_timer = 30 | {=counter_greater(bridge_bandit_cout:0)} camper@clear_path_fire_work1
meet = no_meet

[camper@clear_path_fire_work1]
out_restr = red_bridge_csky_restr
invulnerable = true
combat_ignore_cond = always
path_walk = soldier_1_f1_walk
path_look = soldier_1_f1_fire_look
radius = 10
def_state_moving = assault
on_info = {+red_bridge_allyes_skirmish} camper@f2_hide_work1
on_info2 = {!counter_greater(bridge_bandit_cout:0)} camper@clear_path_hide_work1
on_game_timer = 80 | camper@clear_path_hide_work1
meet = no_meet

[camper@f2_hide_work1]
out_restr = red_bridge_csky_restr
invulnerable = true
combat_ignore_cond = always
path_walk = soldier_1_f2_walk
path_look = soldier_1_f2_hide_look
radius = 10
def_state_moving = assault
on_game_timer = 50 | {=counter_greater(bridge_bandit_cout:0)} camper@f2_fire_work1
on_info = {+red_bridge_down_done} camper@real_fire_work_1
meet = no_meet


[camper@f2_fire_work1]
out_restr = red_bridge_csky_restr
invulnerable = true
combat_ignore_cond = always
path_walk = soldier_1_f2_walk
path_look = soldier_1_f2_fire_look
radius = 10
def_state_moving = assault
on_game_timer = 50 | camper@f2_hide_work1
on_info = {+red_bridge_down_done} camper@real_fire_work_1
on_info2 = {!counter_greater(bridge_bandit_cout:0)} camper@f2_hide_work1
meet = no_meet

[camper@real_fire_work_1]
out_restr = red_bridge_csky_restr
invulnerable = true
path_walk = soldier_1_real_fire_walk
path_look = real_fire_look
radius = 10
def_state_moving = assault
def_state_campering = threat
def_state_campering_fire = threat_fire
on_info = {+red_bridge_bandit_out} walker@bridge_walk_work_1
meet = no_meet

[walker@bridge_walk_work_1]
;out_restr = red_bridge_csky_restr
invulnerable = true
combat_ignore_cond = always
path_walk = bridge_walk
def_state_moving1 = rush
def_state_moving2 = rush
def_state_moving3 = rush
on_signal = action | camper@talk_work_1
meet = no_meet


[camper@talk_work_1]
out_restr = red_bridge_bandit_restr
path_walk = soldier_1_talk_walk
path_look = soldier_talk_look
on_signal = action | camper@wait_talk_work_1 %+red_bridge_cs1%

[camper@wait_talk_work_1]
out_restr = red_bridge_bandit_restr
path_walk = soldier_1_talk_walk
path_look = soldier_talk_look
on_info = {+red_bridge_finished} camper@talk2_work_1

[camper@talk2_work_1]
out_restr = red_bridge_bandit_restr
path_walk = soldier_1_talk_walk
path_look = soldier_talk_look
on_game_timer = 40 | walker@wait_commander_work_1
on_info = {+red_bridge_csky_go_limansk} patrol@go_limansk_work_1

[remark@talk_work_1]
out_restr = red_bridge_bandit_restr
target = red_bridge_csky_smart_soldier_talk_look, 0
anim = salut
on_game_timer = 30 | walker@wait_commander_work_1
on_info = {+red_bridge_csky_go_limansk} patrol@go_limansk_work_1
meet = no_meet

[walker@wait_commander_work_1]
out_restr = red_bridge_bandit_restr
path_walk = soldier_1_talk_walk
path_look = soldier_talk_look
on_info = {+red_bridge_csky_go_limansk} patrol@go_limansk_work_1


[patrol@go_limansk_work_1]
;out_restr = red_bridge_bandit_restr
path_walk = go_limansk_walk
path_look = go_limansk_look
meet = no_meet

[walker@bridge_guard_work_1]
out_restr = red_bridge_csky_restr
path_walk = soldier_1_guard_walk
path_look = soldier_1_guard_look

;*****************************
;********* csky solider 2 ***********

[logic@work2]
active = camper@f1_hide_work2
combat_ignore = combat_ignore
suitable = {=check_npc_name(red_bridge_csky_soldier)} true

[camper@f1_hide_work2]
out_restr = red_bridge_csky_restr
invulnerable = true
combat_ignore_cond = always
path_walk = soldier_2_f1_walk
path_look = soldier_2_f2_hide_look
radius = 10
def_state_moving = assault
on_info = {+red_bridge_clear_path} camper@clear_path_fire_work2
on_game_timer = 250 | {=counter_greater(bridge_bandit_cout:0)} camper@f1_fire_work2
meet = no_meet

[camper@f1_fire_work2]
out_restr = red_bridge_csky_restr
invulnerable = true
combat_ignore_cond = always
path_walk = soldier_2_f1_walk
path_look = soldier_2_f2_fire_look
radius = 10
def_state_moving = assault
on_info = {+red_bridge_clear_path} camper@clear_path_fire_work2
on_info2 = {!counter_greater(bridge_bandit_cout:0)} camper@f1_hide_work2
on_game_timer = 40 | camper@f1_hide_work2
meet = no_meet

;***** обстреливают бандитов *****
[camper@clear_path_hide_work2]
out_restr = red_bridge_csky_restr
invulnerable = true
combat_ignore_cond = always
path_walk = soldier_2_f1_walk
path_look = soldier_2_f2_hide_look
radius = 10
def_state_moving = assault
on_game_timer = 30 | {!counter_greater(bridge_bandit_cout:0)} camper@clear_path_fire_work2
on_info = {+red_bridge_allyes_skirmish} camper@f2_hide_work2
meet = no_meet

;***** обстреливает бандитов
[camper@clear_path_fire_work2]
out_restr = red_bridge_csky_restr
invulnerable = true
combat_ignore_cond = always
path_walk = soldier_2_f1_walk
path_look = soldier_2_f2_fire_look
radius = 10
def_state_moving = assault
on_game_timer = 70 | camper@f1_hide_work2
on_info = {+red_bridge_allyes_skirmish} camper@f2_hide_work2
on_info2 = {!counter_greater(bridge_bandit_cout:0)} camper@clear_path_hide_work2
meet = no_meet

;***** обстреливает бандитов
[camper@f2_hide_work2]
out_restr = red_bridge_csky_restr
invulnerable = true
combat_ignore_cond = always
path_walk = soldier_2_f1_walk
path_look = soldier_2_f2_hide_look
radius = 10
def_state_moving = assault
on_game_timer = 50 | {=counter_greater(bridge_bandit_cout:0)} camper@f2_fire_work2
meet = no_meet

;***** обстреливает бандитов
[camper@f2_fire_work2]
out_restr = red_bridge_csky_restr
invulnerable = true
combat_ignore_cond = always
path_walk = soldier_2_f1_walk
path_look = soldier_2_f2_fire_look
radius = 10
def_state_moving = assault
on_game_timer = 60 | camper@f2_hide_work2
on_info = {+red_bridge_down_done} camper@real_fire_work2
meet = no_meet

[walker@bridge_walk_work2]
;out_restr = red_bridge_csky_restr
invulnerable = true
combat_ignore_cond = always
path_walk = bridge_walk
def_state_moving1 = assault
def_state_moving2 = assault
def_state_moving3 = assault
on_signal = action | camper@assault_work2
meet = no_meet

[camper@assault_work2]
out_restr = red_bridge_attack_restr
invulnerable = true
path_walk = soldier_2_assault_walk
path_look = soldier_2_assault_look
radius = 20
no_retreat = true 
def_state_moving = assault
def_state_campering = threat
def_state_campering_fire = threat_fire
on_signal = action | remark@assault_work2
on_info = {+red_bridge_allyes_win} camper@talk_work2
on_info2 = {+red_bridge_bandit_out} camper@talk_work2
meet = no_meet

[remark@assault_work2]
out_restr = red_bridge_attack_restr
invulnerable = true
target = red_bridge_csky_smart_soldier_2_assault_look,0
anim = threat
on_game_timer = 20 | camper@talk_work2 %+red_bridge_allyes_win%
on_info = {+red_bridge_allyes_win} camper@talk_work2
meet = no_meet

[camper@talk_work2]
out_restr = red_bridge_bandit_restr
path_walk = soldier_2_talk_walk
path_look = soldier_talk_look
on_signal = action | camper@wait_talk_work_2 %+red_bridge_cs2%

[camper@wait_talk_work_2]
out_restr = red_bridge_bandit_restr
path_walk = soldier_2_talk_walk
path_look = soldier_talk_look
on_info = {+red_bridge_finished} camper@talk2_work2

[camper@talk2_work2]
out_restr = red_bridge_bandit_restr
path_walk = soldier_2_talk_walk
path_look = soldier_talk_look
on_game_timer = 50 | walker@bridge_guard_work2

[remark@talk_work2]
out_restr = red_bridge_bandit_restr
target = red_bridge_csky_smart_soldier_talk_look, 0
anim = salut_free
on_game_timer = 30 | walker@bridge_guard_work2
meet = no_meet

[walker@bridge_guard_work2]
out_restr = red_bridge_bandit_restr
path_walk = soldier_2_guard_walk
path_look = soldier_2_guard_look
meet = no_meet

;***** стреляет по бандитам по настоящему
[camper@real_fire_work2]
out_restr = red_bridge_csky_restr
invulnerable = true
path_walk = soldier_2_f1_walk
path_look = real_fire_look
;radius = 10
def_state_moving = assault
def_state_campering = threat
def_state_campering_fire = threat_fire
;on_info = {+red_bridge_bandit_out} walker@bridge2_guard_work2
on_game_timer = 100 | walker@bridge_walk_work2
meet = no_meet

;***** охраняет мост
[walker@bridge2_guard_work2]
out_restr = red_bridge_csky_restr
path_walk = soldier_2_guard2_walk
path_look = soldier_2_guard2_look
meet = no_meet

;*****************************
;********* csky solider 3 ***********

[logic@work3]
active = camper@f1_hide_work3
combat_ignore = combat_ignore
suitable = {=check_npc_name(red_bridge_csky_soldier)} true

;***** обстреливают бандитов *****
[camper@f1_hide_work3]
invulnerable = true
combat_ignore_cond = always
path_walk = soldier_3_f1_walk
path_look = soldier_3_f1_hide_look
radius = 10
def_state_moving = assault
on_info =  {+red_bridge_clear_path} camper@f2_hide_work3
;on_game_timer = 40 | {=counter_greater(bridge_bandit_cout:0) +red_bridge_clear_path} camper@f1_fire_work3
meet = no_meet

;***** обстреливают бандитов *****
[camper@f1_fire_work3]
invulnerable = true
combat_ignore_cond = always
path_walk = soldier_3_f1_walk
path_look = soldier_3_f1_fire_look
radius = 10
def_state_moving = assault
on_game_timer = 70 | camper@f1_hide_work3
meet = no_meet

[camper@clear_path_hide_work3]
out_restr = red_bridge_csky_restr
invulnerable = true
combat_ignore_cond = always
path_walk = soldier_3_f1_walk
path_look = soldier_3_f1_hide_look
radius = 10
def_state_moving = assault
on_info = {+red_bridge_allyes_skirmish} camper@f2_hide_work3
on_game_timer = 55 | {=counter_greater(bridge_bandit_cout:0)} camper@clear_path_fire_work3
meet = no_meet

[camper@clear_path_fire_work3]
out_restr = red_bridge_csky_restr
invulnerable = true
combat_ignore_cond = always
path_walk = soldier_3_f1_walk
path_look = soldier_3_f1_fire_look
radius = 10
def_state_moving = assault
on_info = {+red_bridge_allyes_skirmish} camper@f2_hide_work3
on_info2 = {!counter_greater(bridge_bandit_cout:0)} camper@clear_path_hide_work3
on_game_timer = 85 | camper@clear_path_hide_work3
meet = no_meet

;***** обстреливают бандитов *****
[camper@f2_hide_work3]
invulnerable = true
combat_ignore_cond = always
path_walk = soldier_3_f2_walk
path_look = soldier_3_f2_hide_look
radius = 10
def_state_moving = assault
on_game_timer = 50 | {=counter_greater(bridge_bandit_cout:0)} camper@f2_fire_work3
on_info = {+red_bridge_down_done} walker@bridge_walk_work_3
meet = no_meet

;***** обстреливают бандитов *****
[camper@f2_fire_work3]
invulnerable = true
combat_ignore_cond = always
path_walk = soldier_3_f2_walk
path_look = soldier_3_f2_fire_look
radius = 10
def_state_moving = assault
on_game_timer = 50 | camper@f2_hide_work3
on_info = {+red_bridge_down_done} walker@bridge_walk_work_3
;on_info = {+red_bridge_down_done} camper@real_fire_work_3 %+red_bridge_csky_assault%
meet = no_meet

[walker@bridge_walk_work_3]
;out_restr = red_bridge_csky_restr
invulnerable = true
combat_ignore_cond = always
path_walk = bridge_walk
;path_look = real_fire_look
;radius = 0
def_state_moving1 = assault
def_state_moving2 = assault
def_state_moving3 = assault
on_signal = action | camper@assault_work_3 %+red_bridge_csky_assault%
meet = no_meet

[camper@assault_work_3]
out_restr = red_bridge_attack_restr
invulnerable = true
path_walk = soldier_3_assault_walk
path_look = soldier_2_assault_look
radius = 20
no_retreat = true 
def_state_moving = assault
def_state_campering = threat
def_state_campering_fire = threat_fire
;on_info = {+red_bridge_bandit_out} camper@talk_work_3
on_signal = action | remark@assault_work3
on_info = {+red_bridge_allyes_win} camper@talk_work_3
meet = no_meet

[remark@assault_work3]
out_restr = red_bridge_attack_restr
invulnerable = true
target = red_bridge_csky_smart_soldier_2_assault_look,0
anim = threat
on_game_timer = 20 | camper@talk_work_3 %+red_bridge_allyes_win%
on_info = {+red_bridge_allyes_win} camper@talk_work_3
meet = no_meet

[camper@talk_work_3]
out_restr = red_bridge_bandit_restr
path_walk = soldier_3_talk_walk
path_look = soldier_talk_look
on_signal = action | camper@wait_talk_work_3 %+red_bridge_cs3%

[camper@wait_talk_work_3]
out_restr = red_bridge_bandit_restr
path_walk = soldier_3_talk_walk
path_look = soldier_talk_look
on_info = {+red_bridge_finished} camper@talk2_work_3

[camper@talk2_work_3]
out_restr = red_bridge_bandit_restr
path_walk = soldier_3_talk_walk
path_look = soldier_talk_look
on_game_timer = 50 | walker@bridge_guard_work_3

[remark@talk_work_3]
out_restr = red_bridge_bandit_restr
target = red_bridge_csky_smart_soldier_talk_look, 0
anim = salut_free
on_game_timer = 30 | walker@bridge_guard_work_3
meet = no_meet

[walker@bridge_guard_work_3]
out_restr = red_bridge_bandit_restr
path_walk = soldier_3_guard_walk
path_look = soldier_3_guard_look
meet = no_meet

;***** стреляет по бандитам по настоящему
[camper@real_fire_work_3]
out_restr = red_bridge_csky_restr
invulnerable = true
path_walk = soldier_3_f2_walk
path_look = real_fire_look
radius = 10
def_state_moving = assault
def_state_campering = threat
def_state_campering_fire = threat_fire
on_info = {+red_bridge_bandit_out} walker@bridge2_guard_work_3
meet = no_meet

;***** охраняет мост
[walker@bridge2_guard_work_3]
out_restr = red_bridge_csky_restr
path_walk = soldier_3_guard2_walk
path_look = soldier_3_guard2_look
meet = no_meet

;*****************************
;********* csky solider 4 ***********

[logic@work4]
active = camper@f1_hide_work4
combat_ignore = combat_ignore
suitable = {=check_npc_name(red_bridge_csky_soldier)} true

;***** обстреливают бандитов *****
[camper@f1_hide_work4]
invulnerable = true
combat_ignore_cond = always
path_walk = soldier_4_f1_walk
path_look = soldier_4_f1_hide_look
radius = 10
def_state_moving = assault
on_game_timer = 90 | {=counter_greater(bridge_bandit_cout:0)} camper@f1_fire_work4
on_info = {+red_bridge_clear_path} camper@clear_path_fire_work4
meet = no_meet

;***** обстреливают бандитов *****
[camper@f1_fire_work4]
invulnerable = true
combat_ignore_cond = always
path_walk = soldier_4_f1_walk
path_look = soldier_4_f1_fire_look
radius = 10
def_state_moving = assault
on_game_timer = 50 | camper@f1_hide_work4
on_info = {=counter_greater(bridge_bandit_cout:0)} camper@f1_hide_work4
on_info2 = {+red_bridge_clear_path} camper@clear_path_fire_work4
meet = no_meet

[camper@clear_path_hide_work4]
out_restr = red_bridge_csky_restr
invulnerable = true
combat_ignore_cond = always
path_walk = soldier_4_f1_walk
path_look = soldier_4_f1_hide_look
radius = 10
def_state_moving = assault
on_info = {+red_bridge_allyes_skirmish} camper@f2_hide_work4
on_game_timer = 40 | {=counter_greater(bridge_bandit_cout:0)} camper@clear_path_fire_work4
meet = no_meet

[camper@clear_path_fire_work4]
out_restr = red_bridge_csky_restr
invulnerable = true
combat_ignore_cond = always
path_walk = soldier_4_f1_walk
path_look = soldier_4_f1_fire_look
radius = 10
def_state_moving = assault
on_info = {+red_bridge_allyes_skirmish} camper@f2_hide_work4
on_info2 = {!counter_greater(bridge_bandit_cout:0)} camper@clear_path_hide_work4
on_game_timer = 100 | camper@clear_path_hide_work4
meet = no_meet

;***** обстреливают бандитов *****
[camper@f2_hide_work4]
invulnerable = true
combat_ignore_cond = always
path_walk = soldier_4_f1_walk
path_look = soldier_4_f2_hide_look
radius = 10
def_state_moving = assault
on_game_timer = 50 | camper@f2_fire_work4
on_info = {+red_bridge_down_done} camper@bridge_hide_work_4
meet = no_meet

;***** обстреливают бандитов *****
[camper@f2_fire_work4]
invulnerable = true
combat_ignore_cond = always
path_walk = soldier_4_f1_walk
path_look = soldier_4_f2_fire_look
radius = 10
def_state_moving = assault
on_game_timer = 50 | camper@f2_hide_work4
on_info = {+red_bridge_down_done} camper@bridge_hide_work_4
;on_info = {+red_bridge_down_done} camper@real_fire_work_4
on_info2 = {!counter_greater(bridge_bandit_cout:0)} camper@f2_hide_work4
meet = no_meet

[camper@bridge_hide_work_4]
invulnerable = true
combat_ignore_cond = always
path_walk = soldier_4_f1_walk
path_look = soldier_4_f2_hide_look
radius = 10
def_state_moving = assault
on_game_timer = 50 | walker@bridge_walk_work_4
meet = no_meet

[walker@bridge_walk_work_4]
;out_restr = red_bridge_csky_restr
invulnerable = true
combat_ignore_cond = always
path_walk = bridge_walk
;path_look = real_fire_look
;radius = 0
def_state_moving1 = assault
def_state_moving2 = assault
def_state_moving3 = assault
on_signal = action | camper@assault_work_4
meet = no_meet

[camper@assault_work_4]
out_restr = red_bridge_attack_restr
invulnerable = true
path_walk = soldier_2_assault_walk
path_look = soldier_2_assault_look
radius = 20
;no_retreat = true 
def_state_moving = assault
def_state_campering = threat
def_state_campering_fire = threat_fire
on_info = {+red_bridge_bandit_out} camper@talk_work_4
meet = no_meet

[camper@talk_work_4]
out_restr = red_bridge_bandit_restr
path_walk = soldier_4_talk_walk
path_look = soldier_talk_look
on_signal = action | camper@wait_talk_work_4 %+red_bridge_cs4%

[camper@wait_talk_work_4]
out_restr = red_bridge_bandit_restr
path_walk = soldier_4_talk_walk
path_look = soldier_talk_look
team = cs_squad
on_info = {+red_bridge_finished} camper@talk2_work_4

[camper@talk2_work_4]
out_restr = red_bridge_bandit_restr
path_walk = soldier_4_talk_walk
path_look = soldier_4_talk_look
on_game_timer = 20 | remark@talk_work_4

[remark@talk_work_4]
out_restr = red_bridge_bandit_restr
target = red_bridge_csky_smart_soldier_talk_look, 0
anim = salut_free
on_game_timer = 30 | walker@bridge_guard_work_4
meet = no_meet

[walker@bridge_guard_work_4]
out_restr = red_bridge_bandit_restr
path_walk = soldier_4_guard_walk
path_look = soldier_4_guard_look

;***** стреляет по бандитам по настоящему
[camper@real_fire_work_4]
out_restr = red_bridge_csky_restr
invulnerable = true
path_walk = soldier_4_f1_walk
path_look = real_fire_look
radius = 10
def_state_moving = assault
def_state_campering = threat
def_state_campering_fire = threat_fire
on_info = {+red_bridge_bandit_out} walker@bridge2_guard_work_4
meet = no_meet

;***** охраняет мост
[walker@bridge2_guard_work_4]
out_restr = red_bridge_csky_restr
path_walk = soldier_4_guard2_walk
path_look = soldier_4_guard2_look

;*****************************
;********* csky solider 5 ***********

[logic@work5]
active = camper@f1_hide_work5
combat_ignore = combat_ignore
suitable = {=check_npc_name(red_bridge_csky_soldier)} true

;***** обстреливают бандитов *****
[camper@f1_hide_work5]
invulnerable = true
combat_ignore_cond = always
path_walk = soldier_5_f1_walk
path_look = soldier_5_f1_hide_look
radius = 10
def_state_moving = assault
on_info =  {+red_bridge_clear_path} camper@clear_path_fire_work5
on_game_timer = 45 | {=counter_greater(bridge_bandit_cout:0)} camper@f1_fire_work5
meet = no_meet

;***** обстреливают бандитов *****
[camper@f1_fire_work5]
invulnerable = true
combat_ignore_cond = always
path_walk = soldier_5_f1_walk
path_look = soldier_5_f1_fire_look
radius = 10
def_state_moving = assault
on_game_timer = 70 | camper@f1_hide_work5
on_info =  {+red_bridge_clear_path} camper@clear_path_fire_work5
meet = no_meet

[camper@clear_path_hide_work5]
out_restr = red_bridge_csky_restr
invulnerable = true
combat_ignore_cond = always
path_walk = soldier_5_f1_walk
path_look = soldier_5_f1_hide_look
radius = 10
def_state_moving = assault
on_info = {+red_bridge_allyes_skirmish} camper@f2_hide_work5
on_game_timer = 55 | {=counter_greater(bridge_bandit_cout:0)} camper@clear_path_fire_work5
meet = no_meet

[camper@clear_path_fire_work5]
out_restr = red_bridge_csky_restr
invulnerable = true
combat_ignore_cond = always
path_walk = soldier_5_f1_walk
path_look = soldier_5_f1_fire_look
radius = 10
def_state_moving = assault
on_info = {+red_bridge_allyes_skirmish} camper@f2_hide_work5
on_info2 = {!counter_greater(bridge_bandit_cout:0)} camper@clear_path_hide_work5
on_game_timer = 85 | camper@clear_path_hide_work5
meet = no_meet

;***** обстреливают бандитов *****
[camper@f2_hide_work5]
invulnerable = true
combat_ignore_cond = always
path_walk = soldier_5_f2_walk
path_look = soldier_5_f2_hide_look
radius = 10
def_state_moving = assault
on_game_timer = 50 | {=counter_greater(bridge_bandit_cout:0)} camper@f2_fire_work5
on_info = {+red_bridge_down_done} camper@real_fire_work_5
meet = no_meet

;***** обстреливают бандитов *****
[camper@f2_fire_work5]
invulnerable = true
combat_ignore_cond = always
path_walk = soldier_5_f2_walk
path_look = soldier_5_f2_fire_look
radius = 10
def_state_moving = assault
on_game_timer = 50 | camper@f2_hide_work5
on_info = {+red_bridge_down_done} camper@real_fire_work_5
meet = no_meet

[camper@real_fire_work_5]
invulnerable = true
path_walk = soldier_5_real_fire_walk
path_look = real_fire_look
radius = 10
def_state_moving = assault
def_state_campering = threat
def_state_campering_fire = threat_fire
on_info = {+red_bridge_bandit_out} walker@bridge_walk_work_5
meet = no_meet

[walker@bridge_walk_work_5]
;out_restr = red_bridge_csky_restr
invulnerable = true
combat_ignore_cond = always
path_walk = bridge_walk
def_state_moving1 = rush
def_state_moving2 = rush
def_state_moving3 = rush
on_signal = action | camper@talk_work_5
meet = no_meet

[camper@talk_work_5]
out_restr = red_bridge_bandit_restr
path_walk = soldier_5_talk_walk
path_look = soldier_talk_look
on_signal = action | camper@wait_talk_work_5 %+red_bridge_cs5%

[camper@wait_talk_work_5]
out_restr = red_bridge_bandit_restr
path_walk = soldier_5_talk_walk
path_look = soldier_talk_look
on_info = {+red_bridge_finished} camper@talk2_work_5

[camper@talk2_work_5]
out_restr = red_bridge_bandit_restr
path_walk = soldier_5_talk_walk
path_look = soldier_talk_look
on_game_timer = 40 | walker@wait_commander_work_5
on_info = {+red_bridge_csky_go_limansk} patrol@go_limansk_work_5

[remark@talk_work_5]
out_restr = red_bridge_bandit_restr
target = red_bridge_csky_smart_soldier_talk_look, 0
anim = salut
on_game_timer = 30 | walker@wait_commander_work_5
on_info = {+red_bridge_csky_go_limansk} patrol@go_limansk_work_5
meet = no_meet

[walker@wait_commander_work_5]
out_restr = red_bridge_bandit_restr
path_walk = soldier_5_talk_walk
path_look = soldier_talk_look
on_info = {+red_bridge_csky_go_limansk} patrol@go_limansk_work_5

[patrol@go_limansk_work_5]
;out_restr = red_bridge_bandit_restr
path_walk = go_limansk_walk
path_look = go_limansk_look
meet = no_meet

[walker@bridge_guard_work_5]
path_walk = soldier_5_guard_walk
path_look = soldier_5_guard_look
meet = no_meet

;*****************************
;********* csky commander ***********

[logic@work6]
active = camper@f1_hide_work6
combat_ignore = combat_ignore
suitable = {=check_npc_name(red_bridge_csky_commander)} true

;***** обстреливают бандитов *****
[camper@f1_hide_work6]
invulnerable = true
combat_ignore_cond = always
path_walk = commander_f1_walk
path_look = commander_f1_look
radius = 10
def_state_moving = rush
on_actor_dist_le_nvis = 2 | remark@actor_come ;%=play_sound(red_bridge_actor_come)%
meet = no_meet

[remark@actor_come]
invulnerable = true
combat_ignore_cond = always
anim = guard
target = actor
on_game_timer = 10 | %=play_sound(red_bridge_actor_come)%
on_game_timer2 = 100 | camper@f2_hide_work6 %+red_bridge_actor_come%
on_actor_dist_ge_nvis = 7 | camper@f2_hide_work6
meet = no_meet

[camper@f2_hide_work6]
invulnerable = true
combat_ignore_cond = always
path_walk = commander_f1_walk
path_look = commander_f1_look
radius = 10
def_state_moving = rush
;on_info = {+red_bridge_bandit_out} walker@bridge_walk_work_6
on_info = {+red_bridge_down_done} camper@bridge_hide_work6
meet = no_meet

[camper@bridge_hide_work6]
invulnerable = true
combat_ignore_cond = always
path_walk = commander_f1_walk
path_look = commander_f1_look
radius = 10
def_state_moving = rush
on_game_timer = 150 | walker@bridge_walk_work_6
meet = no_meet

[walker@bridge_walk_work_6]
;out_restr = red_bridge_csky_restr
invulnerable = true
combat_ignore_cond = always
path_walk = bridge_walk
;path_look = real_fire_look
;radius = 0
def_state_moving1 = assault
def_state_moving2 = assault
def_state_moving3 = assault
on_signal = action | camper@assault_work_6
meet = no_meet

[camper@assault_work_6]
out_restr = red_bridge_attack_restr
invulnerable = true
path_walk = soldier_2_assault_walk
path_look = soldier_2_assault_look
radius = 20
no_retreat = true 
def_state_moving = assault
def_state_campering = threat
def_state_campering_fire = threat_fire
on_info = {+red_bridge_bandit_out} camper@wait_talk_work_6
meet = no_meet

[camper@wait_talk_work_6]
out_restr = red_bridge_bandit_restr
path_walk = comander_talk_walk
path_look = comander_talk_1_look
meet = no_meet
on_game_timer = 600 | camper@talk_work_6
on_actor_dist_le_nvis = 10 | camper@talk_work_6

[camper@talk_work_6]
out_restr = red_bridge_bandit_restr
path_walk = comander_talk_walk
path_look = comander_talk_1_look
on_signal = action | {+red_bridge_leshiy_redy} camper@talk_leshiy_work_6 %+red_bridge_thanks_leshiy =play_sound(red_bridge_thanks_leshiy)%
meet = no_meet

[camper@talk_leshiy_work_6]
out_restr = red_bridge_bandit_restr
path_walk = comander_talk_walk
path_look = comander_talk_1_look
on_info = {+red_bridge_thanks_leshiy_reply} camper@reply2_work_6
meet = no_meet

[camper@reply2_work_6]
out_restr = red_bridge_bandit_restr
path_walk = comander_talk_walk
path_look = comander_talk_1_look
on_game_timer = 50 | camper@reply3_work_6 %+red_bridge_thanks_leshiy_reply2 =play_sound(red_bridge_thanks_leshiy_reply2)%
meet = no_meet

[camper@reply3_work_6]
out_restr = red_bridge_bandit_restr
path_walk = comander_talk_walk
path_look = comander_talk_1_look
on_info = {+red_bridge_thanks_leshiy_reply3} camper@reply4_work_6
meet = no_meet

[camper@reply4_work_6]
out_restr = red_bridge_bandit_restr
path_walk = comander_talk_walk
path_look = comander_talk_1_look
on_game_timer = 30 | camper@wait_talk2_work_6 %+red_bridge_thanks_leshiy_reply4 =play_sound(red_bridge_thanks_leshiy_reply4)%
meet = no_meet

[camper@wait_talk2_work_6]
out_restr = red_bridge_bandit_restr
path_walk = comander_talk_2_walk
path_look = comander_talk_2_look
on_signal = action2 | {+red_bridge_cs1 +red_bridge_cs4 +red_bridge_cs5} camper@talk2_work_6 ;+red_bridge_cs2 +red_bridge_cs3

[camper@talk2_work_6]
out_restr = red_bridge_bandit_restr
path_walk = comander_talk_2_walk
path_look = comander_talk_2_look
on_game_timer = 10 | %+red_bridge_finished =play_sound(red_bridge_finished)%
on_game_timer2 = 70 | patrol@go_limansk_work_6 %+red_bridge_csky_go_limansk%
meet = no_meet

[patrol@go_limansk_work_6]
;out_restr = red_bridge_bandit_restr
path_walk = go_limansk_walk
path_look = go_limansk_look
commander = true
meet = no_meet